import { Fragment, jsx, jsxs } from "react/jsx-runtime";
import { c as _c } from "react-compiler-runtime";
import cn from "clsx";
import Link from "next/link";
import { EXTERNAL_URL_RE } from "../../server/constants.js";
import { LinkArrowIcon } from "../icons/index.js";
const Anchor = (t0) => {
  const $ = _c(19);
  let props;
  let t1;
  if ($[0] !== t0) {
    ({
      href: t1,
      ...props
    } = t0);
    $[0] = t0;
    $[1] = props;
    $[2] = t1;
  } else {
    props = $[1];
    t1 = $[2];
  }
  const href = t1 === void 0 ? "" : t1;
  const t2 = props;
  let t3;
  if ($[3] !== props.className) {
    t3 = cn("x:focus-visible:nextra-focus", props.className);
    $[3] = props.className;
    $[4] = t3;
  } else {
    t3 = $[4];
  }
  let t4;
  if ($[5] !== props || $[6] !== t3) {
    t4 = {
      ...t2,
      className: t3
    };
    $[5] = props;
    $[6] = t3;
    $[7] = t4;
  } else {
    t4 = $[7];
  }
  props = t4;
  if (EXTERNAL_URL_RE.test(href)) {
    const {
      children
    } = props;
    let t52;
    if ($[8] !== children) {
      t52 = typeof children === "string" && /* @__PURE__ */ jsxs(Fragment, { children: [
        "\u2009",
        /* @__PURE__ */ jsx(LinkArrowIcon, { height: "1em", className: "x:inline x:align-baseline x:shrink-0" })
      ] });
      $[8] = children;
      $[9] = t52;
    } else {
      t52 = $[9];
    }
    let t6;
    if ($[10] !== children || $[11] !== href || $[12] !== props || $[13] !== t52) {
      t6 = /* @__PURE__ */ jsxs("a", { href, target: "_blank", rel: "noreferrer", ...props, children: [
        children,
        t52
      ] });
      $[10] = children;
      $[11] = href;
      $[12] = props;
      $[13] = t52;
      $[14] = t6;
    } else {
      t6 = $[14];
    }
    return t6;
  }
  const ComponentToUse = href.startsWith("#") ? "a" : Link;
  let t5;
  if ($[15] !== ComponentToUse || $[16] !== href || $[17] !== props) {
    t5 = /* @__PURE__ */ jsx(ComponentToUse, { href, ...props });
    $[15] = ComponentToUse;
    $[16] = href;
    $[17] = props;
    $[18] = t5;
  } else {
    t5 = $[18];
  }
  return t5;
};
export {
  Anchor
};
