import { jsx, jsxs } from "react/jsx-runtime";
import { c as _c } from "react-compiler-runtime";
import cn from "clsx";
import { XIcon } from "../../icons/index.js";
import { CloseBannerButton } from "./close-banner-button.js";
import { ClientBanner } from "./index.client";
const BANNER_CLASS_NAME = "nextra-banner";
const Banner = (t0) => {
  const $ = _c(10);
  const {
    children,
    dismissible: t1,
    storageKey: t2
  } = t0;
  const dismissible = t1 === void 0 ? true : t1;
  const storageKey = t2 === void 0 ? BANNER_CLASS_NAME : t2;
  if (!children) {
    return null;
  }
  const hideBannerScript = `try{document.querySelector('.${BANNER_CLASS_NAME}').classList.toggle('x:hidden',localStorage.getItem(${JSON.stringify(storageKey)}))}catch(e){}`;
  let t3;
  if ($[0] === Symbol.for("react.memo_cache_sentinel")) {
    t3 = cn(BANNER_CLASS_NAME, "x:max-md:sticky x:top-0 x:z-30 x:flex x:items-center x:px-2", "x:text-slate-50 x:dark:text-white x:bg-neutral-900 x:dark:bg-[linear-gradient(1deg,#383838,#212121)]", "x:print:[display:none]");
    $[0] = t3;
  } else {
    t3 = $[0];
  }
  let t4;
  if ($[1] !== children) {
    t4 = /* @__PURE__ */ jsx("div", { className: "x:w-full x:text-center x:font-medium x:text-sm x:py-2.5", children });
    $[1] = children;
    $[2] = t4;
  } else {
    t4 = $[2];
  }
  let t5;
  if ($[3] !== dismissible || $[4] !== hideBannerScript || $[5] !== storageKey) {
    t5 = dismissible && /* @__PURE__ */ jsxs(CloseBannerButton, { storageKey, children: [
      /* @__PURE__ */ jsx("script", { dangerouslySetInnerHTML: {
        __html: hideBannerScript
      } }),
      /* @__PURE__ */ jsx(XIcon, { height: "1em" })
    ] });
    $[3] = dismissible;
    $[4] = hideBannerScript;
    $[5] = storageKey;
    $[6] = t5;
  } else {
    t5 = $[6];
  }
  let t6;
  if ($[7] !== t4 || $[8] !== t5) {
    t6 = /* @__PURE__ */ jsxs(ClientBanner, { className: t3, suppressHydrationWarning: true, children: [
      t4,
      t5
    ] });
    $[7] = t4;
    $[8] = t5;
    $[9] = t6;
  } else {
    t6 = $[9];
  }
  return t6;
};
export {
  Banner
};
