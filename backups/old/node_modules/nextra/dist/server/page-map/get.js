function importPageMap(lang = "") {
  return import(`./placeholder.js?lang=${lang}`);
}
const defaultLocale = process.env.NEXTRA_DEFAULT_LOCALE;
async function getPageMap(route = "/") {
  const segments = route.split("/");
  const lang = segments.splice(0, defaultLocale ? 2 : 1).at(-1);
  let { pageMap } = await importPageMap(lang);
  let segment;
  while (segment = segments.shift()) {
    const folder = pageMap.find(
      (item) => "name" in item && item.name === segment
    );
    if (!folder) {
      throw new Error(`Can't find pageMap for "${segment}" in route "${route}"`);
    }
    pageMap = folder.children;
  }
  return pageMap;
}
async function getRouteToFilepath(lang) {
  const { RouteToFilepath } = await importPageMap(lang);
  return RouteToFilepath;
}
export {
  getPageMap,
  getRouteToFilepath
};
